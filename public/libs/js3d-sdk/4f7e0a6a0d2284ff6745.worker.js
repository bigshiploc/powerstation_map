/*! Copyright (c) Palmap Inc. All rights reserved. */
!function(t){function e(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var r={};return e.m=t,e.c=r,e.p="./",e(0)}([function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var n=r(1),i=r(4),s=o(i),a=r(2),c=o(a),u=null;u="1.0"===n.blueVersion?c.default:s.default;var f=function(t,e,r){for(var o=t,n=Array.isArray(o),i=0,o=n?o:o[Symbol.iterator]();;){var s;if(n){if(i>=o.length)break;s=o[i++]}else{if(i=o.next(),i.done)break;s=i.value}var a=s;a.postMessage({type:e,result:r})}},l=void 0,p=function(t){var e=t.data.params;e.beaconContext?(l=new u(JSON.parse(e.beaconContext),e.config),f(t.ports,"InitBeaconConfigProtocal",{message:"ok"})):f(t.ports,"error",{message:"init error"})},y=function(t){var e=t.data.params;if(l&&e.beacons){var r="1.0"===n.blueVersion?l.locate(JSON.parse(e.beacons)):l.updateReceivedBeacons(JSON.parse(e.beacons));f(t.ports,"BeaconsProtocal",{location:r})}else f(t.ports,"error",{message:"beacons data is empty"})},h=function(t){if(l){var e="1.0"===n.blueVersion?l.bleLocationInfoInstance:l.locate();f(t.ports,"LocationProtocal",{location:e})}else f(t.ports,"error",{message:"no locate data"})};onmessage=function(t){var e=t.data.type;switch(e){case"InitBeaconConfigProtocal":p(t);break;case"BeaconsProtocal":y(t);break;case"LocationProtocal":h(t)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.devServerHost="http://localhost",e.blueVersion="2.0",e.supportParticle=!1,e.enableQuadTree=!1,e.isDev=!1,e.isProd=!0,e.isLite=!1,e.touchEmulator=!1},function(t,e,r){var o,n;(function(t){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function s(t){switch(this.clear(),arguments.length){case 0:break;case 1:this.copy(t);break;default:c(this,arguments)}}function a(t){var e=Object.prototype.toString.call(t),r=e.slice(8,-1).toLowerCase();return"domwindow"!==r||t?r:t+""}function c(t,e){for(var r=0;r<e.length;r+=2)t.set(e[r],e[r+1])}function u(t){return function(){return t.apply(this,arguments),this}}function f(t,e){Object.defineProperty&&Object.defineProperty(t,e,{enumerable:!1})}function l(t,e){this.x=t,this.y=e}function p(t,e){this.firstPoint=t,this.secondPoint=e}function y(t,e){this.scope=t,this.intercept=e}function h(t,e){this.firstLine=t,this.secondLine=e}function d(t,e){this.center=t,this.radius=e}function b(t,e){this.firstCircle=t,this.secondCircle=e}function C(t,e,r,o,n,i,s,a,c,u,f){this.beaconId=t,this.mapId=e,this.sceneId=r,this.floorId=o,this.uuid=n,this.major=i,this.minor=s,this.x=a,this.y=c,this.atten=u,this.lossCoe=f}function g(t,e,r,o){this.uuid=t,this.major=e,this.minor=r,this.distance=o}function m(){}function v(t){return this.rssiBoundary=t&&t.rssiBoundary?t.rssiBoundary:10,this.distBoundary=t&&t.distBoundary?t.distBoundary:6,this}function O(){}var _=s.prototype={constructor:s,get:function(t){var e=this._data[this.hash(t)];return e&&e[1]},put:function(t,e){var r=this.hash(t);r in this._data||this._count++,this._data[r]=[t,e]},multi:function(){c(this,arguments)},copy:function(t){for(var e in t._data)e in this._data||this._count++,this._data[e]=t._data[e]},containsKey:function(t){var e=this.hash(t),r=e in this._data;return r},search:function(t){for(var e in this._data)if(this._data[e][1]===t)return this._data[e][0];return null},remove:function(t){var e=this.hash(t);e in this._data&&(this._count--,delete this._data[e])},isEmpty:function(){return 0==this._count},keyArray:function(){var t=[];return this.forEach(function(e,r){t.push(r)}),t},values:function t(){var t=[];return this.forEach(function(e){t.push(e)}),t},size:function(){return this._count},clear:function(){this._data={},this._count=0},clone:function(){return new s(this)},hash:function(t){switch(a(t)){case"undefined":case"null":case"boolean":case"number":case"regexp":return t+"";case"date":return"♣"+t.getTime();case"string":return"♠"+t;case"array":for(var e=[],r=0;r<t.length;r++)e[r]=this.hash(t[r]);return"♥"+e.join("⁞");default:return t.hasOwnProperty("_hmuid_")||(t._hmuid_=++s.uid,f(t,"_hmuid_")),"♦"+t._hmuid_}},forEach:function(t,e){for(var r in this._data){var o=this._data[r];t.call(e||this,o[1],o[0])}}};s.uid=0;for(var j in _)if("constructor"!==j&&_.hasOwnProperty(j)){var w=_[j];w.toString().indexOf("return ")===-1&&(_[j]=u(w))}l.prototype.setPoint=function(t,e){this.x=t,this.y=e},p.prototype.setPoints=function(t,e){this.firstPoint=t,this.secondPoint=e},p.prototype.getRelation=function(){var t=this.firstPoint.x==this.secondPoint.x?10:20,e=this.firstPoint.y==this.secondPoint.y?1:2,r=t+e,o=0;switch(r){case 11:o=1;break;case 12:o=2;break;case 21:o=3;break;case 22:o=4}return o},p.prototype.getDistance=function(){return Math.sqrt((this.firstPoint.x-this.secondPoint.x)*(this.firstPoint.x-this.secondPoint.x)+(this.firstPoint.y-this.secondPoint.y)*(this.firstPoint.y-this.secondPoint.y))},y.prototype.setLine=function(t,e){this.scope=t,this.intercept=e},y.prototype.lineGenerateByTwoPoints=function(t,e){this.scope=(t.y-e.y)/(t.x-e.x),this.intercept=t.y-this.scope*t.x},y.prototype.lineGenerateByPointScope=function(t,e){this.scope=e,this.intercept=t.y-e*t.x},h.prototype.setLines=function(t,e){this.firstLine=t,this.secondLine=e},h.prototype.getRelation=function(){var t=this.firstLine.scope==this.secondLine.scope?10:20,e=this.firstLine.intercept==this.secondLine.intercept?1:2,r=t+e,o=0;switch(r){case 11:o=1;break;case 12:o=2;break;case 21:o=3;break;case 22:o=4}return o},h.prototype.insect=function(){var t=this.getRelation(),e=Object.create(l.prototype);switch(t){case 3:e.setPoint(0,this.firstLine.intercept);break;case 4:var r=(this.secondLine.intercept-this.firstLine.intercept)/(this.firstLine.scope-this.secondLine.scope),o=this.firstLine.scope*r+this.firstLine.intercept;e.setPoint(r,o);break;default:console.log("no crossPoint between lines")}return e},d.prototype.setCircle=function(t,e){this.center=t,this.radius=e},b.prototype.setCircles=function(t,e){this.firstCircle=t,this.secondCircle=e},b.prototype.getRelation=function(){var t=this.firstCircle.center==this.secondCircle.center?1:2,e=this.firstCircle.radius==this.secondCircle.radius?10:20,r=t+e,o=0;switch(r){case 11:o=1;break;case 12:o=2;break;case 21:o=3;break;case 22:o=4}return o},b.prototype.insect=function(){for(var t=Object.create(Array.prototype),e=0;e<2;e++)t[e]=Object.create(l.prototype);var r=Object.create(p.prototype);r.setPoints(this.firstCircle.center,this.secondCircle.center);var o=r.getRelation();return t=this.locationOption(o)},b.prototype.locationOption=function(t){switch(t){case 1:return this.CenterXYEqual();case 2:return this.CenterXEqual();case 3:return this.CenterYEqual();case 4:return this.CenterNoEqual();default:return 1}},b.prototype.CenterXYEqual=function(){console.warn("the centers of the circle are the same!");for(var t=Object.create(Array.prototype),e=0;e<2;e++)t[e]=Object.create(l.prototype);return t[0]=D,t[1]=D,t},b.prototype.CenterXEqual=function(){for(var t=Object.create(Array.prototype),e=0;e<2;e++)t[e]=Object.create(l.prototype);var r=0,o=Math.abs(this.firstCircle.center.y-this.secondCircle.center.y);return this.firstCircle.center.y<this.secondCircle.center.y?(r=(Math.pow(o,2)+Math.pow(this.firstCircle.radius,2)-Math.pow(this.secondCircle.radius,2))/(2*this.firstCircle.radius*o),t[0].y=this.firstCircle.center.y+this.firstCircle.radius*r,t[1].y=t[0].y,t[0].x=this.firstCircle.center.x+this.firstCircle.radius*Math.sqrt(1-Math.pow(r,2)),t[1].x=this.firstCircle.center.x-this.firstCircle.radius*Math.sqrt(1-Math.pow(r,2))):(r=(Math.pow(o,2)+Math.pow(this.secondCircle.radius,2)-Math.pow(this.firstCircle.radius,2))/(2*this.secondCircle.radius*o),t[0].y=this.secondCircle.center.y+this.secondCircle.radius*r,t[1].y=t[0].y,t[0].x=this.secondCircle.center.x+this.secondCircle.radius*Math.sqrt(1-Math.pow(r,2)),t[1].x=this.secondCircle.center.x-this.secondCircle.radius*Math.sqrt(1-Math.pow(r,2))),t},b.prototype.CenterYEqual=function(){for(var t=Object.create(Array.prototype),e=0;e<3;e++)t[e]=Object.create(l.prototype);var r=0,o=Math.abs(this.firstCircle.center.x-this.secondCircle.center.x);return this.firstCircle.center.x<this.secondCircle.center.x?(r=(Math.pow(o,2)+Math.pow(this.firstCircle.radius,2)-Math.pow(this.secondCircle.radius,2))/(2*this.firstCircle.radius*o),t[0].x=this.firstCircle.center.x+this.firstCircle.radius*r,t[1].x=t[0].x,t[0].y=this.firstCircle.center.y+this.firstCircle.radius*Math.sqrt(1-Math.pow(r,2)),t[1].y=this.firstCircle.center.y-this.firstCircle.radius*Math.sqrt(1-Math.pow(r,2))):(r=(Math.pow(o,2)+Math.pow(this.secondCircle.radius,2)-Math.pow(this.firstCircle.radius,2))/(2*this.secondCircle.radius*o),t[0].x=this.secondCircle.center.x+this.secondCircle.radius*r,t[1].x=t[0].x,t[0].y=this.secondCircle.center.y+this.secondCircle.radius*Math.sqrt(1-Math.pow(r,2)),t[1].y=this.secondCircle.center.y-this.secondCircle.radius*Math.sqrt(1-Math.pow(r,2))),t},b.prototype.CenterNoEqual=function(){for(var t=Object.create(Array.prototype),e=0;e<2;e++)t[e]=Object.create(l.prototype);var r,o,n,i,s,a,c=Object.create(Array.prototype),u=Object.create(Array.prototype),f=Object.create(Array.prototype),y=Object.create(m.prototype);for(e=0;e<3;e++)f[e]=Object.create(p.prototype);return f[0].setPoints(this.firstCircle.center,this.secondCircle.center),r=2*this.firstCircle.radius*(this.firstCircle.center.x-this.secondCircle.center.x),o=2*this.firstCircle.radius*(this.firstCircle.center.y-this.secondCircle.center.y),n=this.secondCircle.radius*this.secondCircle.radius-this.firstCircle.radius*this.firstCircle.radius-f[0].getDistance()*f[0].getDistance(),i=r*r+o*o,s=-2*r*n,a=n*n-o*o,c[0]=(Math.sqrt(s*s-4*i*a)-s)/(2*i),c[1]=(-Math.sqrt(s*s-4*i*a)-s)/(2*i),u[0]=Math.sqrt(1-c[0]*c[0]),u[1]=Math.sqrt(1-c[1]*c[1]),t[0].x=this.firstCircle.radius*c[0]+this.firstCircle.center.x,t[1].x=this.firstCircle.radius*c[1]+this.firstCircle.center.x,t[0].y=this.firstCircle.radius*u[0]+this.firstCircle.center.y,t[1].y=this.firstCircle.radius*u[1]+this.firstCircle.center.y,f[1].setPoints(t[0],this.secondCircle.center),f[2].setPoints(t[1],this.secondCircle.center),y.varEquals(f[1].getDistance(),this.secondCircle.radius)||(t[0].y=this.firstCircle.center.y-this.firstCircle.radius*u[0]),y.varEquals(f[2].getDistance(),this.secondCircle.radius)||(t[1].y=this.firstCircle.center.y-this.firstCircle.radius*u[1]),y.varEquals(t[0].y,t[1].y)&&y.varEquals(t[0].x,t[1].x)&&(t[0].y>0?t[1].y=-t[1].y:t[0].y=-t[0].y),t},m.prototype.varEquals=function(t,e){var r=.001;return t.constructor==Number&&e.constructor==Number?Math.abs(t-e)<r:(console.log("type error!"),-1)},m.prototype.sortRule=function(t,e){return t-e},m.prototype.calcDistByRssi=function(t,e,r){var o=Math.abs(t),n=Math.abs(e),i=(o-n)/(10*r);return Math.pow(10,i)},v.prototype.setBoundaries=function(t){return this.rssiBoundary=t&&t.rssiBoundary?t.rssiBoundary:this.rssiBoundary?this.rssiBoundary:10,this.distBoundary=t&&t.distBoundary?t.distBoundary:this.distBoundary?this.distBoundary:6,this},v.prototype.rssiFilter=function(t,e){return t<0&&t>e-this.rssiBoundary},v.prototype.distanceFilter=function(t){return t>0&&t<this.distBoundary},v.prototype.locationFilter=function(t,e){var r=Object.create(l.prototype),o=Object.create(p.prototype),n=Object.create(l.prototype),i=4;r.x=(t[0].x+t[1].x+t[2].x)/3,r.y=(t[0].y+t[1].y+t[2].y)/3,o.setPoints(r,e);var s=o.getDistance();return s>i?(n.x=r.x+(e.x-r.x)*(i/s),n.y=r.y+(e.y-r.y)*(i/s),n):e},v.prototype.historyLocationFilter=function(t){var e=Object.create(p.prototype),r=Object.create(l.prototype);e.setPoints(t,A);var o=2,n=e.getDistance();return n<=o||0==A.x&&0==A.y?(A=t,t):(r.x=A.x+(A.x-t.x)*(o/n),r.y=A.y+(A.y-t.y)*(o/n),A=r,r)},O.prototype.parseInfo=function(t){try{return JSON.parse(t)}catch(t){return t}},O.prototype.stringifyInfo=function(t){try{return JSON.stringify(t)}catch(t){return t}};var x={BEACON_USE_NUM:"3",DIS_A:"0",DIS_B:"1",DIS_C:"2"},D=new l(-1e3,-1e3),A=new l(0,0),P=function(t,e){this.BeaconsCfg=t,this.bleConfig=e,this.bleLocationInfo=function(){function t(){return void 0==r&&(r=new e),r}function e(){return e.instance={type:"FeatureCollection",features:[{type:"Feature",properties:{floor_id:0},geometry:{type:"Point",coordinates:[0,0]}}]},e.instance}var r;return{getInstance:t}}(),this.bleLocationInfoInstance=this.bleLocationInfo.getInstance(),this.bleLocationStrategy=function(t,e,r,o){var n;switch(t){case 1:n="beaconNumEqualOne";break;case 2:n="beaconNumEqualTwo";break;case 3:n="beaconNumEqualThree";break;default:n="beaconNumMoreThanThree"}var i=function(t,e){for(var r=Object.create(Array.prototype),o=Object.create(Array.prototype),n=Object.create(Array.prototype),i=0;i<x.BEACON_USE_NUM;i++)n[i]=Object.create(p.prototype);n[0].setPoints(t[0],t[1]),n[1].setPoints(t[0],t[2]),n[2].setPoints(t[1],t[2]),r[0]=n[0].getDistance(),r[1]=n[1].getDistance(),r[2]=n[2].getDistance(),o[0]=e[x.DIS_A]+e[x.DIS_B],o[1]=e[x.DIS_A]+e[x.DIS_C],o[2]=e[x.DIS_B]+e[x.DIS_C],o[3]=Math.abs(e[x.DIS_A]-e[x.DIS_B]),o[4]=Math.abs([x.DIS_A]-e[x.DIS_C]),o[5]=Math.abs(e[x.DIS_B]-e[x.DIS_C]);var s,a=(r[0]>o[0]?300:r[0]<o[3]?100:200,r[1]>o[1]?30:r[1]<o[4]?10:20,r[2]>o[2]?3:r[2]<o[5]?1:2,333);switch(a){case 333:s="allDeviation",console.info("C0-C1 C0-C2 C1-C2");break;case 222:s="disWeightAlg",console.info("C0+C1 C0+C2 C1+C2");break;case 233:s="CirTwoDeviation",console.info("C0+C1 C0-C2 C1-C2");break;case 323:s="CirOneDeviation",console.info("C0-C1 C0+C2 C1-C2");break;case 332:s="CirZeroDeviation",console.info("C0-C1 C0-C2 C1+C2");break;case 221:case 223:s="CirOneTwoDeviation",console.info("C0+C1 C0+C2 C1-&C2");break;case 212:case 232:s="CirZeroTwoDeviation",console.info("C0+C1 C0-&C2 C1+C2");break;case 122:case 322:s="CirZeroOneDeviation",console.info("C0-&C1 C0+C2 C1+C2");break;default:console.log("no Result!")}var c={allDeviation:function(t,e){for(var r=Object.create(Array.prototype),o=0,n=0,i=0,s=0;s<3;++s)o+=1/e[s];for(var a=0;a<3;++a)r[a]=1/e[a]/o;for(var c=Object.create(l.prototype),u=0;u<3;++u)n+=r[u]*t[u].x,i+=r[u]*t[u].y;return c.setPoint(n,i),c},disWeightAlg:function(t,e){for(var r=Object.create(l.prototype),o=Object.create(Array.prototype),n=Object.create(Array.prototype),i=Object.create(Array.prototype),s=Object.create(Array.prototype),a=0;a<x.BEACON_USE_NUM;a++)o[a]=Object.create(d.prototype),n[a]=Object.create(b.prototype);o[0].setCircle(t[0],e[x.DIS_A]),o[1].setCircle(t[1],e[x.DIS_B]),o[2].setCircle(t[2],e[x.DIS_C]),n[0].setCircles(o[0],o[1]),n[1].setCircles(o[0],o[2]),n[2].setCircles(o[1],o[2]),s[0]=n[0].insect(),s[1]=n[1].insect(),s[2]=n[2].insect();var c=Object.create(Array.prototype);for(a=0;a<2*Number(x.BEACON_USE_NUM);a++)c[a]=Object.create(p.prototype);return c[0].setPoints(s[0][0],t[2]),c[1].setPoints(s[0][1],t[2]),c[2].setPoints(s[1][0],t[1]),c[3].setPoints(s[1][1],t[1]),c[4].setPoints(s[2][0],t[0]),c[5].setPoints(s[2][1],t[0]),c[0].getDistance()<c[1].getDistance()?i[0]=s[0][0]:i[0]=s[0][1],c[2].getDistance()<c[3].getDistance()?i[1]=s[1][0]:i[1]=s[1][1],c[4].getDistance()<c[5].getDistance()?i[2]=s[2][0]:i[2]=s[2][1],r.x=(i[0].x/(e[x.DIS_A]*e[x.DIS_A])+i[1].x/(e[x.DIS_B]*e[x.DIS_B])+i[2].x/(e[x.DIS_C]*e[x.DIS_C]))/(1/(e[x.DIS_A]*e[x.DIS_A])+1/(e[x.DIS_B]*e[x.DIS_B])+1/(e[x.DIS_C]*e[x.DIS_C])),r.y=(i[0].y/(e[x.DIS_A]*e[x.DIS_A])+i[1].y/(e[x.DIS_B]*e[x.DIS_B])+i[2].y/(e[x.DIS_C]*e[x.DIS_C]))/(1/(e[x.DIS_A]*e[x.DIS_A])+1/(e[x.DIS_B]*e[x.DIS_B])+1/(e[x.DIS_C]*e[x.DIS_C])),r},CirZeroDeviation:function(t,e){for(var r=Object.create(l.prototype),o=Object.create(Array.prototype),n=Object.create(b.prototype),i=Object.create(Array.prototype),s=0;s<2;s++)o[s]=Object.create(d.prototype),i[s]=Object.create(p.prototype);o[0].setCircle(t[1],e[1]),o[1].setCircle(t[2],e[2]),n.setCircles(o[0],o[1]);var a=n.insect();return i[0].setPoints(a[0],t[0]),i[1].setPoints(a[1],t[0]),r=i[0].getDistance()<i[1].getDistance()?a[0]:a[1]},CirOneDeviation:function(t,e){for(var r=Object.create(l.prototype),o=Object.create(Array.prototype),n=Object.create(b.prototype),i=Object.create(Array.prototype),s=0;s<2;s++)o[s]=Object.create(d.prototype),i[s]=Object.create(p.prototype);o[0].setCircle(t[0],e[0]),o[1].setCircle(t[2],e[2]),n.setCircles(o[0],o[1]);var a=n.insect();return i[0].setPoints(a[0],t[1]),i[1].setPoints(a[1],t[1]),r=i[0].getDistance()<i[1].getDistance()?a[0]:a[1]},CirTwoDeviation:function(t,e){for(var r=Object.create(l.prototype),o=Object.create(Array.prototype),n=Object.create(b.prototype),i=Object.create(Array.prototype),s=0;s<2;s++)o[s]=Object.create(d.prototype),i[s]=Object.create(p.prototype);o[0].setCircle(t[0],e[0]),o[1].setCircle(t[1],e[1]),n.setCircles(o[0],o[1]);var a=n.insect();return i[0].setPoints(a[0],t[2]),i[1].setPoints(a[1],t[2]),r=i[0].getDistance()<i[1].getDistance()?a[0]:a[1]},CirOneTwoDeviation:function(t,e){for(var r=Object.create(l.prototype),o=Object.create(Array.prototype),n=Object.create(Array.prototype),i=Object.create(Array.prototype),s=Object.create(Array.prototype),a=Object.create(Array.prototype),c=0;c<2;c++)o[c]=Object.create(l.prototype),i[c]=Object.create(b.prototype),s[c]=Object.create(p.prototype);for(c=0;c<3;c++)n[c]=Object.create(d.prototype);for(c=0;c<4;c++)a[c]=Object.create(p.prototype);return n[0].setCircle(t[0],e[0]),n[1].setCircle(t[1],e[1]),n[2].setCircle(t[2],e[2]),i[0].setCircles(n[0],n[1]),i[1].setCircles(n[0],n[2]),s[0]=i[0].insect(),s[1]=i[1].insect(),a[0].setPoints(s[0][0],t[2]),a[1].setPoints(s[0][1],t[2]),a[2].setPoints(s[1][0],t[1]),a[3].setPoints(s[1][1],t[1]),a[0].getDistance()<a[1].getDistance()?o[0]=s[0][0]:o[0]=s[0][1],a[2].getDistance()<a[3].getDistance()?o[1]=s[1][0]:o[1]=s[1][1],r.setPoint((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),r},CirZeroTwoDeviation:function(t,e){for(var r=Object.create(l.prototype),o=Object.create(Array.prototype),n=Object.create(Array.prototype),i=Object.create(Array.prototype),s=Object.create(Array.prototype),a=Object.create(Array.prototype),c=0;c<2;c++)o[c]=Object.create(l.prototype),i[c]=Object.create(b.prototype),s[c]=Object.create(p.prototype);for(c=0;c<3;c++)n[c]=Object.create(d.prototype);for(c=0;c<4;c++)a[c]=Object.create(p.prototype);return n[0].setCircle(t[0],e[0]),n[1].setCircle(t[1],e[1]),n[2].setCircle(t[2],e[2]),i[0].setCircles(n[0],n[1]),i[1].setCircles(n[1],n[2]),s[0]=i[0].insect(),s[1]=i[1].insect(),a[0].setPoints(s[0][0],t[2]),a[1].setPoints(s[0][1],t[2]),a[2].setPoints(s[1][0],t[0]),a[3].setPoints(s[1][1],t[0]),a[0].getDistance()<a[1].getDistance()?o[0]=s[0][0]:o[0]=s[0][1],a[2].getDistance()<a[3].getDistance()?o[1]=s[1][0]:o[1]=s[1][1],r.setPoint((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),r},CirZeroOneDeviation:function(t,e){for(var r=Object.create(l.prototype),o=Object.create(Array.prototype),n=Object.create(Array.prototype),i=Object.create(Array.prototype),s=Object.create(Array.prototype),a=Object.create(Array.prototype),c=0;c<2;c++)o[c]=Object.create(l.prototype),i[c]=Object.create(b.prototype),s[c]=Object.create(p.prototype);for(c=0;c<3;c++)n[c]=Object.create(d.prototype);for(c=0;c<4;c++)a[c]=Object.create(p.prototype);return n[0].setCircle(t[0],e[0]),n[1].setCircle(t[1],e[1]),n[2].setCircle(t[2],e[2]),i[0].setCircles(n[0],n[2]),i[1].setCircles(n[1],n[2]),s[0]=i[0].insect(),s[1]=i[1].insect(),a[0].setPoints(s[0][0],t[1]),a[1].setPoints(s[0][1],t[1]),a[2].setPoints(s[1][0],t[0]),a[3].setPoints(s[1][1],t[0]),a[0].getDistance()<a[1].getDistance()?o[0]=s[0][0]:o[0]=s[0][1],a[2].getDistance()<a[3].getDistance()?o[1]=s[1][0]:o[1]=s[1][1],r.setPoint((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),r}},u=Object.create(v.prototype),f=c[s](t,e);return u.locationFilter(t,f)},s={beaconNumEqualOne:function(t,e,r){var o,n=Object.create(l.prototype),i=t.keyArray()[0];n.setPoint(e.get(i).x,e.get(i).y),o=t.get(i).distance,r.features[0].properties.floor_id=e.get(i).floorId,r.features[0].geometry.coordinates[0]=e.get(i).x,r.features[0].geometry.coordinates[1]=e.get(i).y},beaconNumEqualTwo:function(t,e,r){for(var o,n=2,i=Object.create(Array.prototype),s=Object.create(Array.prototype),a=Object.create(Array.prototype),c=Object.create(Array.prototype),u=0,f=0,p=0,y=0;y<n;y++)i[y]=Object.create(l.prototype);var h=t.keyArray();for(y=0;y<n;y++)a[y]=h[y],s[y]=Number(t.get(a[y]).distance),i[y].setPoint(e.get(a[y]).x,e.get(a[y]).y);for(o=s[x.DIS_A]<s[x.DIS_B]?0:1,y=0;y<n;++y)u+=1/s[y];for(y=0;y<n;++y)c[y]=1/s[y]/u;for(y=0;y<n;++y)f+=c[y]*i[y].x,p+=c[y]*i[y].y;r.features[0].properties.floor_id=e.get(a[o]).floorId,r.features[0].geometry.coordinates[0]=f,r.features[0].geometry.coordinates[1]=p},beaconNumEqualThree:function(t,e,r){for(var o,n=3,s=Object.create(Array.prototype),a=Object.create(Array.prototype),c=Object.create(Array.prototype),u=Object.create(Array.prototype),f=new Array(3),p=1e3,y=0;y<n;y++)s[y]=Object.create(l.prototype);var h=t.keyArray();for(y=0;y<n;y++)c[y]=h[y],a[y]=Number(t.get(c[y]).distance),s[y].setPoint(e.get(c[y]).x,e.get(c[y]).y),u[y]=Number(t.get(c[y]).distance),f[y]=e.get(c[y]).floorId,p>u[y]&&(p=u[y],o=e.get(c[y]).floorId);var d=i(s,a);f.sort(m.sortRule),a.sort(m.sortRule),a[0]!=a[1]?r.features[0].properties.floor_id=o:r.features[0].properties.floor_id=floorArrayToUse[(Number(x.BEACON_USE_NUM)+1)/2-1],r.features[0].geometry.coordinates[0]=d.x,r.features[0].geometry.coordinates[1]=d.y},beaconNumMoreThanThree:function(t,e,r){for(var o,n=t.size(),s=new Array(n),a=Object.create(Array.prototype),c=Object.create(Array.prototype),u=Object.create(Array.prototype),f=new Array(3),p=1e3,y=0;y<x.BEACON_USE_NUM;y++)a[y]=Object.create(l.prototype);var h=t.keyArray();for(y=0;y<n;y++)s[y]=Number(t.get(h[y]).distance);for(s.sort(m.sortRule),y=0;y<x.BEACON_USE_NUM;y++)for(var d=0;d<t.size();d++){var b=t.get(h[d]);if(b&&b.distance&&b.distance==s[y]){c[y]=h[d],a[y].setPoint(e.get(c[y]).x,e.get(c[y]).y),u[y]=Number(t.get(c[y]).distance),f[y]=e.get(c[y]).floorId,p>u[y]&&(p=u[y],o=e.get(c[y]).floorId);break}}var C=i(a,u);f.sort(m.sortRule),u.sort(m.sortRule),u[0]!=u[1]?r.features[0].properties.floor_id=o:r.features[0].properties.floor_id=f[(Number(x.BEACON_USE_NUM)+1)/2-1],r.features[0].geometry.coordinates[0]=C.x,r.features[0].geometry.coordinates[1]=C.y}};s[n](e,r,o)}};P.prototype.init=function(t){this.BeaconsCfg=t},P.prototype.locate=function(t){var e,r,o,n,i,a=Object.create(m.prototype),c=Object.create(v.prototype),u=new s,f=new s;if(c.setBoundaries(this.bleConfig),o=this.BeaconsCfg,e=t,n=o.length,r=e.length,0==n)return console.warn("beaconsCfg is empty!"),this.bleLocationInfoInstance;for(var l=0;l<n;l++){var p,y;"atten"in o[l]&&"lossCoe"in o[l]?(p=o[l].atten,y=o[l].lossCoe):(p=-59,y=2);var h=new C(o[l].beaconId,o[l].mapId,o[l].sceneId,o[l].floorId,o[l].uuid,o[l].major,o[l].minor,Number(o[l].geom.x),Number(o[l].geom.y),p,y),d=new String(o[l].uuid+o[l].major+o[l].minor);u.put(d,h)}if(u.isEmpty())return console.log("BeaconCfgNum = 0"),this.bleLocationInfoInstance;if(0==r)return console.warn("beacons is empty!"),this.bleLocationInfoInstance;for(l=0;l<r;l++){var b=new String(e[l].uuid+e[l].major+e[l].minor);if(u.containsKey(b)){var O=0;if("distance"in e[l]?c.distanceFilter(e[l].distance)&&(O=e[l].distance):c.rssiFilter(Number(e[l].rssi),u.get(b).atten)&&(O=a.calcDistByRssi(Number(e[l].rssi),u.get(b).atten,u.get(b).lossCoe)),O){var _=new g(e[l].uuid,e[l].major,e[l].minor,O);f.put(b,_)}}}return f.isEmpty()?(console.warn("BeaconNum = 0"),this.bleLocationInfoInstance):(i=f.size(),u.isEmpty()||f.isEmpty()?(console.warn("beaconsCfgMap or beaconsMap is empty!"),this.bleLocationInfoInstance):(this.bleLocationStrategy(i,f,u,this.bleLocationInfoInstance),f.clear(),u.clear(),this.bleLocationInfoInstance))},P.prototype.getBleLocationInfo=function(){var t=Object.create(O.prototype);return t.stringifyInfo(this.bleLocationInfoInstance)},"object"===i(t)&&"object"===i(t.exports)?t.exports=P:(o=P,n="function"==typeof o?o.call(e,r,e,t):o,!(void 0!==n&&(t.exports=n)))}()}).call(e,r(10)(t))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=e.isPresent=function(t){return"undefined"!=typeof t&&null!==t},n=e.isBlank=function(t){return"undefined"==typeof t||null===t},i=(e.isBoolean=function(t){return"boolean"==typeof t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isArray=function(t){try{return Array.isArray(t)}catch(e){return"[object Array]"===Object.prototype.toString.call(t)}},e.isDate=function(t){return t instanceof Date&&!isNaN(t.valueOf())},e.isFunction=function(t){return"function"==typeof t});e.isJsObject=function(t){return null!==t&&(i(t)||"object"===("undefined"==typeof t?"undefined":r(t)))},e.isPromise=function(t){return o(t)&&i(t.then)},e.isEmpty=function(t){if(n(t))return!0;if(0===t.length)return!0;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}},function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),c=r(3),u=r(5),f=o(u),l=(0,f.default)("NGR:Ble"),p={minRssi:-75,maxDistance:7,roofHeight:1.8,measuredPower:-59,floorCount:5,enableKalman:!1,initialCovar:10,processNoiseCovar:1e-6,measureNoiseCovar:.1,minGain:.3,optimalGain:.5,kalmanGain:.5,distThresh:2.3,frenquency:1e3},y={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[0,0]},properties:{floor_id:0}}]},h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,t),!(0,c.isArray)(e))throw new TypeError("excepted beacons to be an array, but got ["+e+"]");if("object"!==("undefined"==typeof r?"undefined":s(r)))throw new TypeError("excepted config to be an object, but got ["+r+"]");i(this,p,r,{_beacons:e,_floorCount:0,_lastPosition:y,_enableLocation:!1,_cachedBeacons:{},_beaconsMap:{},_hasNewData:!1}),this.initBeaconMap(e)}return a(t,[{key:"initBeaconMap",value:function(t){for(var e=t,r=Array.isArray(e),o=0,e=r?e:e[Symbol.iterator]();;){var n;if(r){if(o>=e.length)break;n=e[o++]}else{if(o=e.next(),o.done)break;n=o.value}var i=n;this._beaconsMap[this.getBeaconKey(i)]=i}}},{key:"updateLastPosition",value:function(t,e){var r=t.x,o=t.y,n=this._lastPosition.features[0],i=n.geometry,s=n.properties;r&&(i.coordinates[0]=r),o&&(i.coordinates[1]=o);var a=e[0].floorId;this._floorCount=s.floor_id!=a?++this._floorCount:0,s.floor_id=this._floorCount>=this.floorCount?(this._floorCount=0,a):s.floor_id}},{key:"updateReceivedBeacons",value:function(t){if(!(0,c.isEmpty)(this._beacons)&&!(0,c.isEmpty)(t)){var e=t.filter(this.filterByParam.bind(this)).sort(function(t,e){return t.distance-e.distance});e&&e.length>0&&(this.receivedBeacons=e,this._hasNewData=!0)}}},{key:"locate",value:function(){if(this._hasNewData){var t=this.receivedBeacons,e=this.getLocation(t);if(e){var r=e;this.enableKalman&&(r=this.filterByKalman(r)),this._enableLocation||(this._enableLocation=!0,this._floorCount=this.floorCount),this.updateLastPosition(r,t)}}return this._lastPosition}},{key:"processDistance",value:function(t){return this.filterByDistance(t)?(t.distance>this.roofHeight&&(t.distance=Math.sqrt((t.distance+this.roofHeight)*(t.distance-this.roofHeight))),t):this.filterByRssi(t)&&(t.distance=this.processDistanceByRssi(t.rssi),t.distance<this.maxDistance)?t:void 0}},{key:"filterByParam",value:function(t){var e=this._beaconsMap[this.getBeaconKey(t)];return!!e&&(i(t,{geom:e.geom,floorId:e.floorId}),this.processDistance(t))}},{key:"filterByDistance",value:function(t){return t.distance=+t.distance||0,t.distance>0&&t.distance<this.maxDistance}},{key:"filterByRssi",value:function(t){var e=t.rssi;return e<0&&e>this.minRssi}},{key:"filterByKalman",value:function(t){if(this._lastCovar=this.initialCovar,this._forecastCovar=this.initialCovar,this._kalmanGain=this.kalmanGain,!this._enableLocation)return this._kalmanGain>=0&&this._kalmanGain>1&&(this._lastCovar=(1-this._kalmanGain)*this._forecastCovar),t;var e=this._lastPosition.features[0].geometry.coordinates,r=Math.sqrt(Math.pow(t.x-e[0],2)+Math.pow(t.y-e[1],2));if(l("distance: %s",r),r<this.distThresh)return{x:e[0],y:e[1]};this._forecastCovar=this._lastCovar+this.processNoiseCovar,this._kalmanGain=this._forecastCovar/(this._forecastCovar+this.measureNoiseCovar),this._kalmanGain<this.minGain&&(this._kalmanGain=this.optimalGain),this._kalmanGain>=0&&this._kalmanGain<1&&(this._lastCovar=(1-this._kalmanGain)*this._forecastCovar);var o=e[0]+this.distThresh/r*(t.x-e[0]),n=e[1]+this.distThresh/r*(t.y-e[1]),i=o+this._kalmanGain*(t.x-o),s=n+this._kalmanGain*(t.y-n),a={x:i,y:s};return a}},{key:"getLocationMode",value:function(t){var e=t.length;return e>=4?t[0].distance/t[1].distance<=.33?3:4:e}},{key:"getLocation",value:function(t){var e=this.getLocationMode(t);switch(l("location mode: %d",e),e){case 1:return{x:t[0].geom.x,y:t[0].geom.y};case 2:var r=[],o=t[0],n=t[1],i=o.distance+n.distance;return r[0]=o.distance/i,r[1]=n.distance/i,{x:o.geom.x*r[0]+n.geom.x*r[1],y:o.geom.y*r[0]+n.geom.y*r[1]};case 3:var s=[],a=t[0],c=t[1],u=t[2],f=1/a.distance+1/c.distance+1/u.distance;return s[0]=1/a.distance/f,s[1]=1/c.distance/f,s[2]=1/u.distance/f,{x:a.geom.x*s[0]+c.geom.x*s[1]+u.geom.x*s[2],y:a.geom.y*s[0]+c.geom.y*s[1]+u.geom.y*s[2]};case 4:var p=[],y=t[0],h=t[1],d=t[2],b=t[3],C=1/y.distance+1/h.distance+1/d.distance+1/b.distance;return p[0]=1/y.distance/C,p[1]=1/h.distance/C,p[2]=1/d.distance/C,p[3]=1/b.distance/C,{x:y.geom.x*p[0]+h.geom.x*p[1]+d.geom.x*p[2]+b.geom.x*p[3],y:y.geom.y*p[0]+h.geom.y*p[1]+d.geom.y*p[2]+b.geom.y*p[3]}}}},{key:"processDistanceByRssi",value:function(t){if(0===t)return-1;var e=t/this.measuredPower;return e<1?Math.pow(e,10):.89976*Math.pow(e,7.7095)+.111}},{key:"getBeaconKey",value:function(t){var e=t.major,r=t.minor;return e+"$"+r}}]),t}();e.default=h},function(t,e,r){(function(o){function n(){return!("undefined"==typeof window||!window||"undefined"==typeof window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),r){var o="color: "+this.color;t.splice(1,0,o,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(n++,"%c"===t&&(i=n))}),t.splice(i,0,o)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function c(){try{return e.storage.debug}catch(t){}if("undefined"!=typeof o&&"env"in o)return{NODE_ENV:"production",BUILD_ENV:"standard"}.DEBUG}function u(){try{return window.localStorage}catch(t){}}e=t.exports=r(6),e.log=s,e.formatArgs=i,e.save=a,e.load=c,e.useColors=n,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),
e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(c())}).call(e,r(9))},function(t,e,r){function o(t){var r,o=0;for(r in t)o=(o<<5)-o+t.charCodeAt(r),o|=0;return e.colors[Math.abs(o)%e.colors.length]}function n(t){function r(){if(r.enabled){var t=r,o=+new Date,n=o-(u||o);t.diff=n,t.prev=u,t.curr=o,u=o;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=e.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(r,o){if("%%"===r)return r;a++;var n=e.formatters[o];if("function"==typeof n){var s=i[a];r=n.call(t,s),i.splice(a,1),a--}return r}),e.formatArgs.call(t,i);var c=r.log||e.log||console.log.bind(console);c.apply(t,i)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=o(t),"function"==typeof e.init&&e.init(r),r}function i(t){e.save(t),e.names=[],e.skips=[];for(var r=(t||"").split(/[\s,]+/),o=r.length,n=0;n<o;n++)r[n]&&(t=r[n].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function s(){e.enable("")}function a(t){var r,o;for(r=0,o=e.skips.length;r<o;r++)if(e.skips[r].test(t))return!1;for(r=0,o=e.names.length;r<o;r++)if(e.names[r].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=n.debug=n.default=n,e.coerce=c,e.disable=s,e.enable=i,e.enabled=a,e.humanize=r(7),e.names=[],e.skips=[],e.formatters={};var u},function(t,e){function r(t){if(t=String(t),!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),o=(e[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return r*f;case"days":case"day":case"d":return r*u;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*a;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function o(t){return t>=u?Math.round(t/u)+"d":t>=c?Math.round(t/c)+"h":t>=a?Math.round(t/a)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function n(t){return i(t,u,"day")||i(t,c,"hour")||i(t,a,"minute")||i(t,s,"second")||t+" ms"}function i(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}var s=1e3,a=60*s,c=60*a,u=24*c,f=365.25*u;t.exports=function(t,e){e=e||{};var i=typeof t;if("string"===i&&t.length>0)return r(t);if("number"===i&&isNaN(t)===!1)return e.long?n(t):o(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e){/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function o(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var o=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==o.join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=o()?Object.assign:function(t,e){for(var o,a,c=r(t),u=1;u<arguments.length;u++){o=Object(arguments[u]);for(var f in o)i.call(o,f)&&(c[f]=o[f]);if(n){a=n(o);for(var l=0;l<a.length;l++)s.call(o,a[l])&&(c[a[l]]=o[a[l]])}}return c}},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function n(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function i(t){if(l===clearTimeout)return clearTimeout(t);if((l===o||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function s(){d&&y&&(d=!1,y.length?h=y.concat(h):b=-1,h.length&&a())}function a(){if(!d){var t=n(s);d=!0;for(var e=h.length;e;){for(y=h,h=[];++b<e;)y&&y[b].run();b=-1,e=h.length}y=null,d=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var f,l,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(t){f=r}try{l="function"==typeof clearTimeout?clearTimeout:o}catch(t){l=o}}();var y,h=[],d=!1,b=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new c(t,e)),1!==h.length||d||n(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}]);
//# sourceMappingURL=4f7e0a6a0d2284ff6745.worker.js.map